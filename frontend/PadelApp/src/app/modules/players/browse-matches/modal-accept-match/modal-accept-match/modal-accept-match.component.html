<div
  *ngIf="showAcceptMatchModal"
  class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-20 p-4"
>
  <div
    class="bg-appBackground text-appWhiteText rounded-xl w-full max-w-[650px] p-6 relative"
  >
    <button
      (click)="close.emit()"
      class="absolute top-3 right-3 text-appWhiteText hover:text-appError"
    >
      ✕
    </button>

    <h2 class="text-2xl font-bold text-center mb-6">Aceptar Partido</h2>

    <form [formGroup]="acceptMatchForm" (ngSubmit)="onSubmit()">
      <h1 class="text-center text-2xl font-raleway font-bold">Equipo Rival</h1>
      <section
        class="team flex flex-col sm:flex-row mb-4 mt-6 sm:gap-6 justify-center font-bold border border-appPrimary rounded-lg"
        *ngIf="match && match.MatchesTeams && match.MatchesTeams.length > 0"
      >
        <article class="p-3">
          <i class="fa-solid fa-table-tennis-paddle-ball pr-2"></i>Nombre:
          <br />
          <span class="font-medium">{{
            match.MatchesTeams[0]?.team?.name || "No disponible"
          }}</span>
        </article>
        <article class="p-3">
          <i class="fa-solid fa-comment pr-2"></i>Descripcion:
          <br />
          <span class="font-medium">
            {{
              match.MatchesTeams[0]?.team?.description || "No disponible"
            }}</span
          >
        </article>
        <article class="p-3">
          <i class="fa-solid fa-people-group pr-2"></i>Miembros:
          <br />
          <span
            *ngFor="
              let pt of match.MatchesTeams[0]?.team?.PlayersTeams;
              let last = last
            "
            class="font-medium"
          >
            {{ pt.player?.firstName }} {{ pt.player?.lastName }}
            <span *ngIf="!last">/</span>
          </span>
        </article>
      </section>

      <h1 class="text-center text-2xl font-raleway font-bold pt-8">
        Especificaciones del Partido
      </h1>
      <section
        class="match flex flex-col sm:flex-row mb-4 mt-6 font-medium justify-center border border-appPrimary p-2 rounded-lg"
      >
        <article *ngIf="match" class="mb-6 sm:mb-0 sm:mr-10">
          <span class="font-bold">Cancha:</span>
          <p>
            Piso:
            {{ getFloorMaterialName(match.floorMaterialId) || "No disponible" }}
          </p>
          <p>
            Pared:
            {{ getWallMaterialName(match.wallMaterialId) || "No disponible" }}
          </p>
          <p>Techada: {{ match.roofed === 1 ? "Sí" : "No" }}</p>
        </article>
        <article>
          <i class="fa-solid fa-calendar pr-2"></i
          ><span class="font-bold">Fecha y Hora Posible:</span>
          <ul>
            <li *ngFor="let ts of match?.timeSlots">
              {{ ts.date }}
              <span class="pl-2 font-medium"
                >{{ formatTimeToHourMinute(ts.startTime) }} -
                {{ formatTimeToHourMinute(ts.endTime) }}
              </span>
            </li>
          </ul>
        </article>
      </section>

      <section class="chooseTeam text-center" *ngIf="acceptMatchForm">
        <div class="w-full sm:w-auto">
          <label class="block mb-1 font-bold"
            >Seleccione un equipo para jugar</label
          >
          <select
            formControlName="selectedTeam"
            class="w-full sm:w-64 bg-appBackground border-2 border-appPrimary text-appWhiteText rounded-lg"
          >
            <option value="" disabled selected>Seleccione un equipo</option>
            <option *ngFor="let team of teams" [value]="team.id">
              {{ team.name }}
            </option>
          </select>
        </div>
      </section>

      <div class="text-center pt-2">
        <button
          type="submit"
          class="bg-appPrimary text-appBlackText font-bold mt-5 px-4 py-2 rounded-md w-64"
          [disabled]="acceptMatchForm.invalid"
        >
          Confirmar
        </button>
      </div>
    </form>
  </div>
</div>
